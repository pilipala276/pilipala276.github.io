---
title: 计算机组成原理_唐朔飞
date: 2022-07-22 23:14:42
category: Read
tags: 
    - 计算机组成原理
index_img: ../image/Read/计算机组成原理_唐朔飞.jpeg  
banner_img: ../image/Read/计算机组成原理_唐朔飞.jpeg
top_img: ../image/Read/计算机组成原理_唐朔飞.jpeg 
cover: ../image/Read/计算机组成原理_唐朔飞.jpeg 
---

# 《计算机组成原理》- 唐朔飞

## 第一篇 概论

### 第一章 计算机系统概论

#### 1.1 计算机系统简介

1.1.2 
计算机层次可大致分为五级，本书只讲诉最底层的两级

1.1.3 
计算机系统组成与计算机体系结构的关系：
两台机器指令系统相同即有相同的体系结构，而这两台机器如何实现指令功能，可以完全不同，即组成不同

#### 1.2 计算机的基本组成

1.2.1 
经典的冯·诺依曼计算机是以计算器为中心的，现在的计算机已转化为以存储器为中心

1.2.2 
现在计算机可认为由CPU,I/O设备，主存器三大部分组成

1.2.3
计算机的工作步骤，利用计算机解决问题的完整步骤

#### 1.3 计算机硬件的主要技术指标

机器字长，存储容量，运算速度，

#### 1.4 本书结构

第一篇：概论
第二篇：计算机的硬件结构，包括存储器，I/O，系统总线，CPU(CPU放在第三篇)
第三篇：中央处理器(CPU)，包括ALU，寄存器，CPU内部连接，CU(CU放在第四篇)
第四篇：控制单元(CU)，包括排队逻辑，控制单元寄存器和解码器，控制存储器

## 第二篇 计算机系统的硬件结构

### 第三章 系统总线

#### 3.1 总线的基本概念

总线的出现是I/O口的增删设备的需求促进出现的

最开始以CPU为中心建立总线时I/O口和主存通信会影响CPU效率；后来单总线的出现I/O口和主存通信绕过了CPU,但因为占用总线还是会影响CPU效率；为了不影响CPU的工作效率，以存储器为中心建立总线

#### 3.2 总线的分类

由下到上可分为
* 芯片内部的片内总线
* 系统内部的系统总线
  *  数据总线
  *  地址总线
  *  控制总线（控制总线是怎么监视各部件状态的？）
* 系统之间的通信总线

#### 3.3 总线特性及性能指标

3.3.1
总线特性有机械特性，电气特性，功能特性，时间特性

3.3.2
总线指标

3.3.3
总线标准

#### 3.4 总线结构

单总线结构一般用于传输数据量不大的情况下

多总线结构很需要注意的一点是各部分的速率

#### 3.5总线控制

3.5.1
总线判优(即裁决总线使用权)分为集中式和分布式，三种集中控制优先仲裁方式      

3.5.2
总线通信可以分为四个阶段，有四种方式(同步通信，异步通信，半同步通信，分离式通信)

### 第四章 存储器

#### 4.1概述

4.1.1
存储器分类
按存取方式可分为随机存储器，只读存储器，顺序存储器和直接存取存储器

4.2.2
存储器的层次结构可分为缓存-主存-辅存

#### 4.2主存储器

4.2.1 主存储器
主存的技术指标有存储容量，存储速度，存储器带宽


4.2.3 随机存取存储器
随机存储器根据存储原理的不同可分为静态RAM和动态RAM

**学会看存储芯片的结构图与读写时序图** 

静态RAM
需要较多的MOS管，但只有MOS管，且不需要频繁刷新。

动态RAM
单管MOS动态RAM可以只需要一个MOS管，但还需要电容(电容是动态原件，速度会比较慢)和刷新电路，但功率会有所减小
将动态RAM的刷新安排在CPU对指令的译码，可以很好地解决刷新时无法访问的问题

4.2.4 只读存储器
只读存储器理论上来说一旦注入原始信息就不能改变，如掩膜ROM和PROM

但由于用户需要，又诞生了EPROM和EEPROM以及Flash Memory这样的可以擦除重写的ROM

4.2.5 存储器与CPU的连接

存储器与存储器的连接可以实现存储容量的扩展，可分为位扩展和字扩展

cpu与存储器的连接【例4.1】【例4.2】【例子4.3】(译码器的工作原理)

4.2.6 存储器的校验

纠错理论
汉明码$2^k\geq n+k+1(需检测n位，需添加k位)$
汉明码每个检位负责的检测部分的小组划分特点
汉明码的纠错：对传送后的汉明码形成新的检测位，检测位构成的二进制值恰好是出错的位置【例4.4】【例4.5】

4.2.7 提高访存速度的措施

单体多字系统
一个存取周期连续存取读多条指令或数据

多体并行系统
cpu交叉访问各体，一个周期内访问多个体

高性能存储芯片
SDRAM，RDRAM，CDRAM

#### 4.3高速缓冲存储器

4.3.1
Cache一般采用SRAM制作
CPU访问数据时有两种可能，一种书需要的数据已经在缓存中，一种是需要访问主存
Cache的基本结构有存储体，地址映射变换机构，Cache替换机构几大模块组成
今年普遍次啊用多个Cache分为指令Cache和数据Cache

4.3.2
Cache跟多体并行的思想类似，只不过是将访问率高的数据放在速度快的“体”内

直接映射就是相当于Cache只是一个体(逻辑简单，但是缓存内的存储空间得不到充分的利用)

全相联映射相当于Cache是多个体()缓存内的存储空间能得到充分的利用但是逻辑电路复杂

组相联映射是一种直接映射和全相联映射的折种

【例4.9】

4.3.3
Cache的替换策略有先进先出法FIFO，近期最少使用法LRU，和随机法


#### 4.4辅助存储器


辅助存储器容量大，速度慢，价格低，非易失
常见的有硬磁盘，软磁盘，磁带，光盘

4.4.2
磁记录原理和记录方式
写入时，通过电流的对磁层表面磁化
读出时，通过下方磁化单元产生的感应电势来判断读取的信号

4.4.6
模2运算
循环冗余(CRC)编码



### 第五章 输入输出系统

#### 5.1概述

5.1.3
I/O设备与主机的联系方式

5.1.4
I/O设备与主机信息传送的控制方式
程序查询方式，程序中断方式，DMA方式，I/O通道方式，I/O处理机方式

#### 5.3I/O接口

5.3.1
I/O设备与主机之间设置接口的理由
端口是寄存器，有控制逻辑可以组成为接口

5.3.2
I/O接口的功能：选址，传输命令，传送数据，反映I/O设备工作状态

#### 5.4I/O程序查询方式

5.4.1
I/O设备程序查询流程

5.4.2
I/O设备程序查询方式的接口电路

#### 5.5I/O程序中断方式

5.5.3
程序中断能提高计算机效率，应付突发事件，实现实时控制

5.5.3
程序中断方式的接口短路
中断请求触发器和中断屏蔽触发器，排队器，中断向量形成地址(设备编码器)

5.5.4
I/O中断处理过程：中断请求，中断判优，中断响应，中断服务和中断返回
cpu在每条指令执行阶段结束前向接口发送中断查询信号

5.5.5
中断服务流程：保护现场，中断服务，恢复现场和中断返回
单重中断与多重中断

中断虽然很大程度上提高了CPU的运行效率，但还是会占用CPU的操作时间


#### 5.6DMA方式

5.6.1
DMA工作坊式的特点
传输数据时如果CPU不需要访问主存就不会打扰CPU工作，但是如果两者同时访问，CPU会将总线使用权通过周期挪用(窃取)让给DMA

5.6.2
DMA接口的功能与组成

5.6.3
DMA的工作过程包括预处理，数据传输，后处理

虽然DMA也会有中断，但是通过【例5.3】就能知道，DMA是批量的搬运后触发中断

DMA小结

## 第三篇 中央处理器

### 第六章 计算机的运算方法

#### 6.5算术逻辑单元


6.5.1
ALU电路

6.5.2
快速进位链
串行进位链与并行进位链(没看懂)

### 第七章 指令系统

#### 7.1机器指令

7.1.1
指令的一般格式为操作码+地址码
操作码长度可以是变化的也可以是固定的

#### 7.2操作数类型和操作类型

7.2.3
通用的操作类型包括数据传送，算术逻辑操作，移位，转移，输入输出，其他

#### 7.3寻址方式

7.3.2
立即数寻址，直接寻址，间接寻址，寄存器寻址，寄存器间接寻址，基址寻址，变址寻址，相对寻址,堆栈寻址

#### 7.4指令格式举例

7.4.2指令格式举例
PDP-8
PDP-11
IBM 360l
Intel 8086


7.4.3
指令格式设计举例

#### 7.5RISC技术

RISC(精简指令系统计算机)

7.5.2
RISC的主要特征

1956年有人证明只要一条"把主存中指定地址的内容同累加器中的内容求差，把结果留在累加器并存入主存原地址"的指令就能编出通用程序。1982年某大学做了一台8位的CMOVE系统结构样机

### 第八章 CPU的结构和功能

#### 8.1CPU的结构

8.1.2
CPU可以由ALU,CU,寄存器,中断系统组成

8.1.4
控制单元(CU)，现代计算机中微操作命令序列的形成方法有两种，一种是组合逻辑设计方法，为硬连接逻辑，另一种是微程序设计方法，为存储逻辑

#### 8.2指令周期

8.2.1
不同指令由不同的指令周期
大致有取指，间址，执行，中断

8.2.2
不同周期的数据流

#### 8.3指令流水

8.3.1流水线原理
不同周阶段的指令可以叠加操作

8.3.2
影响流水线性能的因素
结构相关（硬件结构上无法重叠），数据相关（逻辑上不能够），控制相关（遇到分支指令）

8.3.3流水线性能
吞吐率，加速比，效率

8.3.4
流水线的多发技术，多是靠编译时解决

8.3.5
不仅是指令，包括运算等也可以使用流水线思想

#### 8.4中断系统

8.4.1
引起中断的因素大致可分为：人为设置，程序性事故，硬件故障，I/O设备，外部事件

8.4.2
中断请求标记由中断请求触发器INTR完成
中断判优可以由硬件排队或软件排队

8.4.3
中断服务程序入口的寻找
有硬件向量法和软件查询法

8.4.6中断屏蔽技术
屏蔽可以通过屏蔽触发器或屏蔽字实现

## 第四篇 控制单元

### 第九章 控制单元的功能

#### 9.1微操作命令的分析

不同周期的具体指令

#### 9.2控制单元的功能

9.2.1
控制单元外特性有
输入信号：时钟，指令寄存器，标志，系统总线的控制信号
输出信号：CPU内部的控制信号，送至系统总线的信号

9.2.2
控制信号分采用CPU内部总线与不采用CPU内部总线

9.2.3
多级时序系统
机器周期，时钟节拍组成了多级时序系统

9.2.4
控制方式
以固定周期进行操作的的同步控制，通过电路应答进行操作的异步控制，两者结合的联合控制以及方便调试的人工控制

9.2.5
多级时序实例分析
Intel 8085
时序图

### 第十章 控制单元的设计

#### 10.1组合逻辑设计

10.1.2
微操作的节拍安排，设计好先后顺序，能安排在同一节拍的尽量在同一节拍完成

10.1.3
组合逻辑设计步骤
列出微操作命令的操作时间表
写出微操作命令的最简单逻辑表达式
画出微操作命令的逻辑图

#### 10.2微程序设计


10.2.3
微指令的编码方式可以是直接编码(控制字段太大)
字段直接编码(将互斥的微操作分开在经过译码)，字段间接编码方式(字段间有影响)，混合编码

10.2.4
微指令序列地址的形成一般有CMAR+1，微指令的下地址字段，指令寄存器，微程序入口地址这四路标志位

10.2.5
水平型微指令(用较短的微程序结构换取较长的微指令结构)与垂直型微指令(用较短的微指令结构换取较长的微程序结构)

10.2.7
毫微程序相当于水平型微指令与垂直型微指令的结合

10.2.9微程序设计举例
1.写出对应机器指令的微操作及节拍安排
2.确定微指令格式
3.编写微指令码点